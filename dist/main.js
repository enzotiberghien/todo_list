(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{S:()=>D});let t=JSON.parse(window.localStorage.getItem("tasks"))||[];const n=document.querySelector("#content");function o(e,t,n,o){this.title=e,this.project=t,this.dueDate=n,this.priority=o}function r(e){t=t.filter((t=>t.title!==e)),a()}function l(e,n,o,r,l){const c=t.findIndex((t=>t.title==e));t[c].title=n,t[c].project=o,t[c].dueDate=r,t[c].priority=l,a()}function a(){localStorage.setItem("tasks",JSON.stringify(t))}let c=JSON.parse(window.localStorage.getItem("projects"))||[];const i=document.querySelector("#project-list");function s(e){this.title=e}const d=document.querySelector("#content"),u=document.querySelector("#project-list"),p=document.querySelector("#content");document.querySelector("#content"),document.querySelector("#content"),c.forEach((e=>{let t=document.createElement("h3");t.setAttribute("class","project"),t.innerHTML=`<i class="fa-solid fa-list-check"></i> ${e.title}`,u.prepend(t)})),t.forEach((e=>{let t=document.createElement("div");t.setAttribute("class","task"),t.innerHTML=`\n        <div class="task-priority"></div>\n            <div class="task-left">\n                <input type="checkbox" name="completed" id="completed">\n            </div>\n            <div class="task-middle">\n                <h3 class="task-title">${e.title}</h3>\n                <h3 class="task-project">${e.project}</h3>\n            </div>\n            <div class="task-right">\n                <h3 class="task-date">${e.dueDate}</h3>\n                <i class="fa-solid fa-pen-to-square edit-btn"></i>\n                <i class="fa-solid fa-trash delete-btn"></i>\n            </div>\n        </div>`;const n=t.querySelector(".task-priority");switch(e.priority){case"1":n.style.backgroundColor="red";break;case"2":n.style.backgroundColor="orange";break;case"3":n.style.backgroundColor="green";break;case"4":n.style.backgroundColor="blue"}d.appendChild(t)})),d.insertAdjacentHTML("beforeend",'\n        <h2 id="add-task-btn"><i class="fa-solid fa-circle-plus"></i> Add Task</h2>\n        <form action="#" class="add-task-form" id="task-form">\n            <input type="text" placeholder="Title" id="title-form" required>\n            <input type="text" placeholder="Project" id="project-task-form" required>\n            <input type="date" name="dueDate-form" id="dueDate-form" required>\n            <select name="priority-form" id="priority-form" required>\n                <option value="1">1</option>\n                <option value="2">2</option>\n                <option value="3">3</option>\n                <option value="4">4</option>\n            </select>\n            <button type="submit">Add</button>\n            <button id="form-task-cancel">Cancel</button>\n        </form>\n    ');const m=document.querySelector("#task-form"),y=document.querySelector("#project-form"),f=document.querySelector("#add-project-btn"),k=document.querySelector("#add-task-btn"),v=document.querySelector("#form-task-cancel"),q=document.querySelector("#form-project-cancel"),b=document.querySelector("#content"),S=(document.querySelectorAll(".delete-btn"),document.querySelectorAll(".edit-btn"),document.querySelectorAll(".task")),h=document.querySelector("#tasks"),x=document.querySelector("#today"),j=document.querySelector("#upcoming"),g=document.querySelectorAll(".project");function C(){b.querySelector("#project-page")&&document.querySelector("#project-page").remove(),S.forEach((e=>e.style.display="flex"))}function E(e,t){e.style.display="flex",t.style.display="none"}function D(e,t){const n=e.querySelector(".task-priority");switch(t){case"1":n.style.backgroundColor="red";break;case"2":n.style.backgroundColor="orange";break;case"3":n.style.backgroundColor="green";break;case"4":n.style.backgroundColor="blue"}}h.addEventListener("click",(()=>{C()})),m.addEventListener("submit",(e=>{e.preventDefault();const c=m.elements["title-form"].value,i=m.elements["project-task-form"].value,s=m.elements["dueDate-form"].value;let d=m.elements["priority-form"];d=d.options[d.selectedIndex].value,function(e,c,i,s){t.push(new o(e,c,i,s)),a();let d=document.createElement("div");d.setAttribute("class","task"),d.innerHTML=`\n        <div class="task-priority"></div>\n            <div class="task-left">\n                <input type="checkbox" name="completed" id="completed">\n            </div>\n            <div class="task-middle">\n                <h3 class="task-title">${e}</h3>\n                <h3 class="task-project">${c}</h3>\n            </div>\n            <div class="task-right">\n                <h3 class="task-date">${i}</h3>\n                <i class="fa-solid fa-pen-to-square edit-btn"></i>\n                <i class="fa-solid fa-trash delete-btn"></i>\n            </div>\n        </div>`,D(d,s),d.querySelector(".delete-btn").addEventListener("click",(()=>{r(d.querySelector(".task-title").textContent),d.remove()})),d.querySelector(".edit-btn").addEventListener("click",(()=>{const e=document.createElement("form");e.setAttribute("class","add-task-form"),e.id="task-form";const t=d.querySelector(".task-title"),n=d.querySelector(".task-title").textContent,o=d.querySelector(".task-project"),r=d.querySelector(".task-date");d.querySelector(".task-priority"),e.innerHTML=`\n            <input type="text" placeholder="Title" id="title-form" value="${t.textContent}" required>\n            <input type="text" placeholder="Project" id="project-form" value="${o.textContent}" required>\n            <input type="date" name="dueDate-form" id="dueDate-form" value="${r.textContent}" required>\n            <select name="priority-form" id="priority-form" required>\n                <option value="1">1</option>\n                <option value="2">2</option>\n                <option value="3">3</option>\n                <option value="4">4</option>\n            </select>\n            <button type="submit">Add</button>\n            <button id="form-task-cancel">Cancel</button>`,e.style.display="flex",d.replaceWith(e),e.addEventListener("submit",(a=>{a.preventDefault(),t.textContent=e.elements["title-form"].value,o.textContent=e.elements["project-form"].value,r.textContent=e.elements["dueDate-form"].value;let c=e.elements["priority-form"];c=c.options[c.selectedIndex].value,D(d,c),l(n,e.elements["title-form"].value,e.elements["project-form"].value,e.elements["dueDate-form"].value,c),e.replaceWith(d)}))})),n.querySelector("h1")?n.querySelector("h1").after(d):n.prepend(d)}(c,i,s,d),k.style.display="block",m.style.display="none"})),k.addEventListener("click",(()=>E(m,k))),v.addEventListener("click",(()=>E(k,m))),S.forEach((e=>{e.querySelector(".delete-btn").addEventListener("click",(()=>{r(e.querySelector(".task-title").textContent),e.remove()})),e.querySelector(".edit-btn").addEventListener("click",(()=>{const t=document.createElement("form");t.setAttribute("class","add-task-form"),t.id="task-form";const n=e.querySelector(".task-title"),o=e.querySelector(".task-title").textContent,r=e.querySelector(".task-project"),a=e.querySelector(".task-date");t.innerHTML=`\n            <input type="text" placeholder="Title" id="title-form" value="${n.textContent}" required>\n            <input type="text" placeholder="Project" id="project-form" value="${r.textContent}" required>\n            <input type="date" name="dueDate-form" id="dueDate-form" value="${a.textContent}" required>\n            <select name="priority-form" id="priority-form" required>\n                <option value="1">1</option>\n                <option value="2">2</option>\n                <option value="3">3</option>\n                <option value="4">4</option>\n            </select>\n            <button type="submit">Add</button>\n            <button id="form-task-cancel">Cancel</button>`,t.style.display="flex",e.replaceWith(t),t.addEventListener("submit",(c=>{c.preventDefault(),e.querySelector(".task-priority"),n.textContent=t.elements["title-form"].value,r.textContent=t.elements["project-form"].value,a.textContent=t.elements["dueDate-form"].value;let i=t.elements["priority-form"];i=i.options[i.selectedIndex].value,D(e,i),l(o,t.elements["title-form"].value,t.elements["project-form"].value,t.elements["dueDate-form"].value,i),t.replaceWith(e)}))}))})),f.addEventListener("click",(()=>E(y,f))),q.addEventListener("click",(()=>E(f,y))),y.addEventListener("submit",(e=>{e.preventDefault(),function(e){c.push(new s(e)),localStorage.setItem("projects",JSON.stringify(c));let t=document.createElement("h3");t.setAttribute("class","project"),t.innerHTML=`<i class="fa-solid fa-list-check"></i> ${e}`,i.prepend(t)}(y.elements["title-project"].value),f.style.display="block",y.style.display="none"})),g.forEach((e=>{e.addEventListener("click",(()=>{C(),function(e){document.querySelectorAll(".task").forEach((t=>{e.trim()!==t.querySelector(".task-project").textContent&&(t.style.display="none")}));let t=document.createElement("h1");t.id="project-page",t.textContent=e,p.prepend(t)}(e.textContent)}))})),x.addEventListener("click",(()=>{C(),document.querySelectorAll(".task").forEach((e=>{(new Date).getDate()!==new Date(e.querySelector(".task-date").textContent).getDate()&&(e.style.display="none")}))})),j.addEventListener("click",(()=>{C(),document.querySelectorAll(".task").forEach((e=>{console.log((new Date).getDate(),new Date(e.querySelector(".task-date").textContent).getDate()),(new Date).getTime()>=new Date(e.querySelector(".task-date").textContent).getTime()&&(e.style.display="none")}))}))})();